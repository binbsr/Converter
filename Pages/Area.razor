@page "/area"

@inject AppSettings settings
@inject ITransformer transformer

@using Data
@using Models
@using Converter.Transform
@using Converter.Components

@if (areaOptionUnits == null)
{
    <p><em>Loading...</em></p>
}
else
{
    <ConvertDisplay AreaOptionUnits="areaOptionUnits" 
                    UnitLeftDefaultValue="@AreaUnit.Aana" 
                    UnitRightDefaultValue="@AreaUnit.SquareMetre" />
}
@code {
    
    DropdownOption[] areaOptionUnits;
    protected override void OnInitialized()
    {
        //areaOptionUnits = await Http.GetFromJsonAsync<DropdownOption[]>("data/area-units.json");
        settings.CurrentDataInstance = nameof(AreaData);
        areaOptionUnits = transformer.FetchDropdownUnitOptions();
    }
}
